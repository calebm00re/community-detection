# Community Detection in Networks

### Project:
The src folder in this repository contains the files necessary to run my implementation of the Girvan Newman Algorithm for 
an undirected graph. The program uses a graphml file to create a graph and execute the algorithm on it to detect communities. After running my algorithm, an output file is created called "graphed.txt" and pasting this file into
the editor here: https://bit.ly/3HujxTk will create a visual output of the communities the program has created. In addition to
this file output, the program posts a single line to the console output to describe the runtime of the community detection in seconds.
  - to run the program, run the executable with a single command line argument: the name of the graphml file


### Algorithm:
The algorithm works off my custom implementation of a Girvan Newman Algorithm. I first analyze the shortest path between every
pair of nodes in the graph. All these shortest paths can be used to analyze the most commonly traversed path. This path that is
traversed the most is then removed. This continues all the way until there are no edges left. After each edge deletion
a new modularity value is calculated based on how many edges are observed in each community compared to the network as a whole. 
This modularity value is noted if it is higher than the current highest modularity value. In this case, the current structure of the 
graph is also noted as its communities will now represent the best modularity observed thusfar in removing edges. Storing the highest modularity and graph corresponding with it, ensure the final output has the greates modularity value.

### Output:
The code will make the file for "graphed.txt" containing the Graphviz code to make the visually understandable graph.
In addition to this, the file will make a console output that looks like the following:
```
The program took 6 seconds
```

### Testing with Random Graphs:
A graph of 62 nodes and 159 edges ran through my algorith in under a second and identified 35 communities. Some of these were small groups or pairs but there were quite a few individulas as well. This is from the dolphin dataset[1]:  
![graphviz-3](https://user-images.githubusercontent.com/72896477/141665868-72673715-b327-4dab-a92c-d6aed6e37361.png)

A graph of 115 nodes and 613 edges ran through my algorith in aproximately 6 seconds and identified 22 communities. There are seven individuals and 3 split groups that should be together, however, the rest is close to perfect. This is from the football dataset[1]:  
![graphviz-2](https://user-images.githubusercontent.com/72896477/141665343-7db76992-8c57-4868-8821-dba68bbcd142.png)

A graph of 34 nodes and 78 edges ran through my algorith in under a second and identified 7 communities and 10 individuals. This dataset represents friendships at a karate club[1]:
![graphviz-5](https://user-images.githubusercontent.com/72896477/141666195-faf1478a-269f-4734-a3e2-4593e41562a2.png)



### Testing with Football Conference 2000 Dataset:
In order to confirm the "correctness" of my algorithm's community detection, I used the Football Conference
2000 Dataset to identify the conferences that the different teams are a part of. The algorithm I wrote detects which 
teams play each other more than they play other teams and sort them into different conferences. Upon looking over the results
generated by my algorithm, I had 22 separate components or communities. Seven are individual nodes (these can be attributed to expected independents as in the graph's original documentation) 
and there are also 3 communities that are split up while they should be together. The following pictures show the communities 
my algorithm broke the dataset into the following: (If any of the pictures are too small, clicking on them will enlarge them in a new tab where zooming in and out is possible)

- the numbers in the nodes corresponding to conferences:
![Screen Shot 2021-11-13 at 8 28 42 PM](https://user-images.githubusercontent.com/72896477/141665083-0e704ab4-4404-406f-a4ac-1dce43d3597d.png)
![Screen Shot 2021-11-13 at 8 31 27 PM](https://user-images.githubusercontent.com/72896477/141665112-244bce41-bc97-484e-94ae-2a072583905f.png)
![Screen Shot 2021-11-13 at 8 32 34 PM](https://user-images.githubusercontent.com/72896477/141665144-0e7b1a9b-59eb-455e-b94b-8a25abdff295.png)
![Screen Shot 2021-11-13 at 8 34 37 PM](https://user-images.githubusercontent.com/72896477/141665193-25002e99-0bfc-457f-b195-d4e6a8f4bf72.png)



### Sources 
[1] http://www-personal.umich.edu/~mejn/netdata/

useful for boost and Girvan Newman Algorithm
https://stackoverflow.com/questions/49007034/print-or-iterate-over-the-vertices-with-vertex-descriptor-boost-graph
https://stackoverflow.com/questions/12675619/boost-dijkstra-shortest-path-how-can-you-get-the-shortest-path-and-not-just-th
https://stackoverflow.com/questions/48360098/boost-graph-dijkstra-shortest-paths-cannot-form-a-reference-to-void
https://www.youtube.com/watch?v=berZf9Nhr0E&t=324s
https://www.youtube.com/watch?v=LtQoPEKKRYM
